"use strict";
(self["webpackChunktaxonium"] = self["webpackChunktaxonium"] || []).push([["vendors-node_modules_jbrowse_plugin-data-management_esm_AddTrackWidget_components_AddTrackWidget_js"],{

/***/ "./node_modules/@jbrowse/plugin-data-management/esm/AddTrackWidget/components/AddTrackWidget.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@jbrowse/plugin-data-management/esm/AddTrackWidget/components/AddTrackWidget.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! mobx-react */ "./node_modules/mobx-react/dist/mobxreact.esm.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/FormControl/FormControl.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Select/Select.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/MenuItem/MenuItem.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/FormHelperText/FormHelperText.js");
/* harmony import */ var _jbrowse_core_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jbrowse/core/util */ "./node_modules/@jbrowse/core/util/index.js");
/* harmony import */ var _jbrowse_core_util__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var mobx_state_tree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mobx-state-tree */ "./node_modules/mobx-state-tree/dist/mobx-state-tree.module.js");
/* harmony import */ var _DefaultAddTrackWorkflow__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DefaultAddTrackWorkflow */ "./node_modules/@jbrowse/plugin-data-management/esm/AddTrackWidget/components/DefaultAddTrackWorkflow.js");






function AddTrackSelector({ model }) {
    const [val, setVal] = (0,_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_1__.useLocalStorage)('trackSelector-choice', 'Default');
    const { pluginManager } = (0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_3__.getEnv)(model);
    const widgets = pluginManager.getElementTypesInGroup('add track workflow');
    const ComponentMap = {
        Default: _DefaultAddTrackWorkflow__WEBPACK_IMPORTED_MODULE_2__["default"],
        ...Object.fromEntries(widgets.map(w => [w.name, w.ReactComponent])),
    };
    // make sure the selected value is in the list
    const val2 = ComponentMap[val] ? val : 'Default';
    const Component = ComponentMap[val2];
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_4__["default"], null,
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__["default"], { value: val2, onChange: event => setVal(event.target.value) }, Object.keys(ComponentMap).map(e => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_6__["default"], { key: e, value: e }, e)))),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__["default"], null, "Type of add track workflow")),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("br", null),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, { model: model })));
}
/* harmony default export */ __webpack_exports__["default"] = ((0,mobx_react__WEBPACK_IMPORTED_MODULE_8__.observer)(AddTrackSelector));
//# sourceMappingURL=AddTrackWidget.js.map

/***/ }),

/***/ "./node_modules/@jbrowse/plugin-data-management/esm/AddTrackWidget/components/ConfirmTrack.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@jbrowse/plugin-data-management/esm/AddTrackWidget/components/ConfirmTrack.js ***!
  \****************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _jbrowse_core_configuration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jbrowse/core/configuration */ "./node_modules/@jbrowse/core/configuration/index.js");
/* harmony import */ var _jbrowse_core_configuration__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jbrowse_core_configuration__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jbrowse/core/util */ "./node_modules/@jbrowse/core/util/index.js");
/* harmony import */ var _jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Typography/Typography.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/ListSubheader/ListSubheader.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/MenuItem/MenuItem.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Paper/Paper.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/InputLabel/InputLabel.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Card/Card.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/CardContent/CardContent.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/List/List.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/ListItem/ListItem.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/TextField/TextField.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/InputAdornment/InputAdornment.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/IconButton/IconButton.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Link/Link.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/FormControl/FormControl.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/FormControlLabel/FormControlLabel.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Checkbox/Checkbox.js");
/* harmony import */ var tss_react_mui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tss-react/mui */ "./node_modules/tss-react/mui.js");
/* harmony import */ var _mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @mui/icons-material/Delete */ "./node_modules/@mui/icons-material/Delete.js");
/* harmony import */ var _mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @mui/icons-material//Add */ "./node_modules/@mui/icons-material/Add.js");
/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! mobx-react */ "./node_modules/mobx-react/dist/mobxreact.esm.js");
/* harmony import */ var mobx_state_tree__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! mobx-state-tree */ "./node_modules/mobx-state-tree/dist/mobx-state-tree.module.js");
/* harmony import */ var _jbrowse_core_util_tracks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @jbrowse/core/util/tracks */ "./node_modules/@jbrowse/core/util/tracks.js");





// icons





const useStyles = (0,tss_react_mui__WEBPACK_IMPORTED_MODULE_3__.makeStyles)()(theme => ({
    spacing: {
        marginBottom: theme.spacing(3),
    },
    paper: {
        display: 'flex',
        flexDirection: 'column',
        padding: theme.spacing(1),
    },
    spacer: {
        height: theme.spacing(8),
    },
    card: {
        marginTop: theme.spacing(1),
    },
}));
function StatusMessage({ trackAdapter, trackType, }) {
    var _a;
    const { classes } = useStyles();
    return trackAdapter.type === 'SNPCoverageAdapter' ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__["default"], { className: classes.spacing },
        "Selected ",
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("code", null, trackType),
        ". Using adapter",
        ' ',
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("code", null, trackAdapter.type),
        " with subadapter",
        ' ',
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("code", null, (_a = trackAdapter.subadapter) === null || _a === void 0 ? void 0 : _a.type),
        ". Please enter a track name and, if necessary, update the track type.")) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__["default"], { className: classes.spacing },
        "Using adapter ",
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("code", null, trackAdapter.type),
        " and guessing track type",
        ' ',
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("code", null, trackType),
        ". Please enter a track name and, if necessary, update the track type."));
}
/**
 * categorizeAdapters takes a list of adapters and sorts their menu item elements under an appropriate ListSubheader
 *  element. In this way, adapters that are from external plugins can have headers that differentiate them from the
 *  out-of-the-box plugins.
 * @param adaptersList - a list of adapters found in the PluginManager
 * @returns a series of JSX elements that are ListSubheaders followed by the adapters
 *   found under that subheader
 */
function categorizeAdapters(adaptersList) {
    let currentCategory = '';
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    const items = [];
    adaptersList.forEach(adapter => {
        var _a, _b, _c, _d, _e, _f, _g, _h;
        if ((_a = adapter.adapterMetadata) === null || _a === void 0 ? void 0 : _a.category) {
            if (currentCategory !== ((_b = adapter.adapterMetadata) === null || _b === void 0 ? void 0 : _b.category)) {
                currentCategory = (_c = adapter.adapterMetadata) === null || _c === void 0 ? void 0 : _c.category;
                items.push(react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_6__["default"], { key: (_d = adapter.adapterMetadata) === null || _d === void 0 ? void 0 : _d.category, value: (_e = adapter.adapterMetadata) === null || _e === void 0 ? void 0 : _e.category }, (_f = adapter.adapterMetadata) === null || _f === void 0 ? void 0 : _f.category));
            }
            items.push(react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__["default"], { key: adapter.name, value: adapter.name }, ((_g = adapter.adapterMetadata) === null || _g === void 0 ? void 0 : _g.displayName)
                ? (_h = adapter.adapterMetadata) === null || _h === void 0 ? void 0 : _h.displayName
                : adapter.name));
        }
    });
    return items;
}
function getAdapterTypes(pluginManager) {
    return pluginManager.getElementTypesInGroup('adapter');
}
function getTrackTypes(pluginManager) {
    return pluginManager.getElementTypesInGroup('track');
}
const TextIndexingConfig = (0,mobx_react__WEBPACK_IMPORTED_MODULE_8__.observer)(({ model }) => {
    const { classes } = useStyles();
    const [value1, setValue1] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');
    const [value2, setValue2] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');
    const [attributes, setAttributes] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(['Name', 'ID']);
    const [exclude, setExclude] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(['CDS', 'exon']);
    const sections = [
        {
            label: 'Indexing attributes',
            values: attributes,
        },
        {
            label: 'Feature types to exclude',
            values: exclude,
        },
    ];
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        model.setTextIndexingConf({ attributes, exclude });
    }, [model, attributes, exclude]);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_9__["default"], { className: classes.paper },
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_10__["default"], null, "Indexing configuration"),
        sections.map((section, index) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_11__["default"], { raised: true, key: section.label, className: classes.card },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_12__["default"], null,
                react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_10__["default"], null, section.label),
                react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_13__["default"], { disablePadding: true },
                    section.values.map((val, idx) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_14__["default"], { key: idx, disableGutters: true },
                        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_15__["default"], { value: val, InputProps: {
                                endAdornment: (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_16__["default"], { position: "end" },
                                    react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_17__["default"], { color: "secondary", onClick: () => {
                                            const newAttr = section.values.filter((a, i) => {
                                                return i !== idx;
                                            });
                                            index === 0
                                                ? setAttributes(newAttr)
                                                : setExclude(newAttr);
                                        } },
                                        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_18__["default"], null)))),
                            } })))),
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_14__["default"], { disableGutters: true },
                        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_15__["default"], { value: index === 0 ? value1 : value2, placeholder: "add new", onChange: event => {
                                index === 0
                                    ? setValue1(event.target.value)
                                    : setValue2(event.target.value);
                            }, InputProps: {
                                endAdornment: (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_16__["default"], { position: "end" },
                                    react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_17__["default"], { onClick: () => {
                                            if (index === 0) {
                                                const newAttr = attributes;
                                                newAttr.push(value1);
                                                setAttributes(newAttr);
                                                setValue1('');
                                            }
                                            else {
                                                const newFeat = exclude;
                                                newFeat.push(value2);
                                                setExclude(newFeat);
                                                setValue2('');
                                            }
                                        }, disabled: index === 0 ? value1 === '' : value2 === '', color: "secondary", "data-testid": `stringArrayAdd-Feat` },
                                        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_19__["default"], null)))),
                            } })))))))));
});
const TrackAdapterSelector = (0,mobx_react__WEBPACK_IMPORTED_MODULE_8__.observer)(({ model }) => {
    const { classes } = useStyles();
    const { trackAdapter } = model;
    const { pluginManager } = (0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_20__.getEnv)(model);
    const adapters = getAdapterTypes(pluginManager);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_15__["default"], { className: classes.spacing, value: (trackAdapter === null || trackAdapter === void 0 ? void 0 : trackAdapter.type) !== 'UNKNOWN' ? trackAdapter === null || trackAdapter === void 0 ? void 0 : trackAdapter.type : '', label: "adapterType", helperText: "Select an adapter type", select: true, fullWidth: true, onChange: event => model.setAdapterHint(event.target.value), SelectProps: {
            // @ts-ignore
            SelectDisplayProps: { 'data-testid': 'adapterTypeSelect' },
        } },
        adapters
            // Excludes any adapter with the 'adapterMetadata.hiddenFromGUI' property, and anything with the 'adapterMetadata.category' property
            .filter(elt => {
            var _a, _b;
            return !((_a = elt.adapterMetadata) === null || _a === void 0 ? void 0 : _a.hiddenFromGUI) &&
                !((_b = elt.adapterMetadata) === null || _b === void 0 ? void 0 : _b.category);
        })
            .map(elt => {
            var _a, _b;
            return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__["default"], { key: elt.name, value: elt.name }, ((_a = elt.adapterMetadata) === null || _a === void 0 ? void 0 : _a.displayName)
                ? (_b = elt.adapterMetadata) === null || _b === void 0 ? void 0 : _b.displayName
                : elt.name));
        }),
        // adapters with the 'adapterMetadata.category' property are categorized
        // by the value of the property here
        categorizeAdapters(adapters.filter(elt => { var _a; return !((_a = elt.adapterMetadata) === null || _a === void 0 ? void 0 : _a.hiddenFromGUI); }))));
});
function UnknownAdapterPrompt({ model }) {
    const { classes } = useStyles();
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__["default"], { className: classes.spacing },
            "JBrowse was not able to guess the adapter type for this data, but it may be in the list below. If not, you can",
            ' ',
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_21__["default"], { href: "https://github.com/GMOD/jbrowse-components/releases", target: "_blank", rel: "noopener noreferrer" }, "check for new releases"),
            ' ',
            "of JBrowse to see if they support this data type or",
            ' ',
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_21__["default"], { href: "https://github.com/GMOD/jbrowse-components/issues/new", target: "_blank", rel: "noopener noreferrer" }, "file an issue"),
            ' ',
            "and add a feature request for this data type."),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(TrackAdapterSelector, { model: model })));
}
const TrackTypeSelector = (0,mobx_react__WEBPACK_IMPORTED_MODULE_8__.observer)(({ model }) => {
    const { classes } = useStyles();
    const session = (0,_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2__.getSession)(model);
    const { trackType } = model;
    const trackTypes = getTrackTypes((0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_20__.getEnv)(session).pluginManager);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_15__["default"], { className: classes.spacing, value: trackType, label: "trackType", helperText: "Select a track type", select: true, fullWidth: true, onChange: event => {
            model.setTrackType(event.target.value);
        }, SelectProps: {
            // @ts-ignore
            SelectDisplayProps: { 'data-testid': 'trackTypeSelect' },
        } }, trackTypes.map(({ name }) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__["default"], { key: name, value: name }, name)))));
});
const TrackAssemblySelector = (0,mobx_react__WEBPACK_IMPORTED_MODULE_8__.observer)(({ model }) => {
    const session = (0,_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2__.getSession)(model);
    const { assembly } = model;
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_15__["default"], { value: assembly, label: "assemblyName", helperText: "Assembly to which the track will be added", select: true, fullWidth: true, onChange: event => model.setAssembly(event.target.value), SelectProps: {
            // @ts-ignore
            SelectDisplayProps: { 'data-testid': 'assemblyNameSelect' },
        } }, session.assemblies
        .map(conf => (0,_jbrowse_core_configuration__WEBPACK_IMPORTED_MODULE_1__.readConfObject)(conf, 'name'))
        .map(name => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__["default"], { key: name, value: name }, name)))));
});
function ConfirmTrack({ model }) {
    const { classes } = useStyles();
    const [check, setCheck] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);
    const { trackName, trackAdapter, trackType, warningMessage, adapterHint } = model;
    if (model.unsupported) {
        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__["default"], { className: classes.spacing },
            "This version of JBrowse cannot display data of this type. It is possible, however, that there is a newer version that can display them. You can",
            ' ',
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_21__["default"], { href: "https://github.com/GMOD/jbrowse-components/releases", target: "_blank", rel: "noopener noreferrer" }, "check for new releases"),
            ' ',
            "of JBrowse or",
            ' ',
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_21__["default"], { href: "https://github.com/GMOD/jbrowse-components/issues/new", target: "_blank", rel: "noopener noreferrer" }, "file an issue"),
            ' ',
            "and add a feature request for this data type."));
    }
    if ((trackAdapter === null || trackAdapter === void 0 ? void 0 : trackAdapter.type) === _jbrowse_core_util_tracks__WEBPACK_IMPORTED_MODULE_4__.UNKNOWN) {
        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(UnknownAdapterPrompt, { model: model });
    }
    if (adapterHint === '' && trackAdapter) {
        model.setAdapterHint(trackAdapter.type);
    }
    if (!(trackAdapter === null || trackAdapter === void 0 ? void 0 : trackAdapter.type)) {
        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__["default"], null, "Could not recognize this data type.");
    }
    const supportedForIndexing = (0,_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2__.supportedIndexingAdapters)(trackAdapter === null || trackAdapter === void 0 ? void 0 : trackAdapter.type);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", null,
        trackAdapter ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(StatusMessage, { trackAdapter: trackAdapter, trackType: trackType })) : null,
        warningMessage ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__["default"], { style: { color: 'orange' } }, warningMessage)) : null,
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_15__["default"], { className: classes.spacing, label: "trackName", helperText: "A name for this track", fullWidth: true, value: trackName, onChange: event => model.setTrackName(event.target.value), inputProps: { 'data-testid': 'trackNameInput' } }),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(TrackAdapterSelector, { model: model }),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(TrackTypeSelector, { model: model }),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(TrackAssemblySelector, { model: model }),
        _jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2__.isElectron && supportedForIndexing && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_22__["default"], null,
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_23__["default"], { label: 'Index track for text searching?', control: react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_24__["default"], { checked: check, onChange: e => {
                        setCheck(e.target.checked);
                        model.setTextIndexTrack(e.target.checked);
                    } }) }))),
        _jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2__.isElectron && check && supportedForIndexing ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(TextIndexingConfig, { model: model })) : null));
}
/* harmony default export */ __webpack_exports__["default"] = ((0,mobx_react__WEBPACK_IMPORTED_MODULE_8__.observer)(ConfirmTrack));
//# sourceMappingURL=ConfirmTrack.js.map

/***/ }),

/***/ "./node_modules/@jbrowse/plugin-data-management/esm/AddTrackWidget/components/DefaultAddTrackWorkflow.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/@jbrowse/plugin-data-management/esm/AddTrackWidget/components/DefaultAddTrackWorkflow.js ***!
  \***************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Typography/Typography.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Stepper/Stepper.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Step/Step.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/StepLabel/StepLabel.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/StepContent/StepContent.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Button/Button.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Alert/Alert.js");
/* harmony import */ var tss_react_mui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tss-react/mui */ "./node_modules/tss-react/mui.js");
/* harmony import */ var _jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jbrowse/core/util */ "./node_modules/@jbrowse/core/util/index.js");
/* harmony import */ var _jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _jbrowse_core_configuration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jbrowse/core/configuration */ "./node_modules/@jbrowse/core/configuration/index.js");
/* harmony import */ var _jbrowse_core_configuration__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_jbrowse_core_configuration__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! mobx-react */ "./node_modules/mobx-react/dist/mobxreact.esm.js");
/* harmony import */ var mobx_state_tree__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! mobx-state-tree */ "./node_modules/mobx-state-tree/dist/mobx-state-tree.module.js");
/* harmony import */ var _ConfirmTrack__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ConfirmTrack */ "./node_modules/@jbrowse/plugin-data-management/esm/AddTrackWidget/components/ConfirmTrack.js");
/* harmony import */ var _TrackSourceSelect__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TrackSourceSelect */ "./node_modules/@jbrowse/plugin-data-management/esm/AddTrackWidget/components/TrackSourceSelect.js");







// locals


const useStyles = (0,tss_react_mui__WEBPACK_IMPORTED_MODULE_1__.makeStyles)()(theme => ({
    root: {
        marginTop: theme.spacing(1),
    },
    stepper: {
        backgroundColor: theme.palette.background.default,
    },
    button: {
        marginTop: theme.spacing(1),
        marginRight: theme.spacing(1),
    },
    actionsContainer: {
        marginBottom: theme.spacing(2),
    },
    stepContent: {
        margin: theme.spacing(1),
    },
    alertContainer: {
        padding: `${theme.spacing(2)}px 0px ${theme.spacing(2)}px 0px`,
    },
}));
const steps = ['Enter track data', 'Confirm track type'];
function AddTrackWorkflow({ model }) {
    const [activeStep, setActiveStep] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);
    const { classes } = useStyles();
    const { pluginManager } = (0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_6__.getEnv)(model);
    const { rootModel } = pluginManager;
    const { jobsManager } = rootModel;
    const session = (0,_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2__.getSession)(model);
    const { assembly, trackAdapter, trackData, trackName, trackType, textIndexTrack, textIndexingConf, } = model;
    const [trackErrorMessage, setTrackErrorMessage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();
    function getStepContent(step) {
        switch (step) {
            case 0:
                return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_TrackSourceSelect__WEBPACK_IMPORTED_MODULE_5__["default"], { model: model });
            case 1:
                return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ConfirmTrack__WEBPACK_IMPORTED_MODULE_4__["default"], { model: model });
            default:
                return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__["default"], null, "Unknown step");
        }
    }
    async function handleNext() {
        if (activeStep !== steps.length - 1) {
            setActiveStep(activeStep + 1);
            return;
        }
        const trackId = [
            `${trackName.toLowerCase().replace(/ /g, '_')}-${Date.now()}`,
            `${session.adminMode ? '' : '-sessionTrack'}`,
        ].join('');
        const assemblyInstance = session.assemblyManager.get(assembly);
        if (trackAdapter && trackAdapter.type !== 'UNKNOWN') {
            session.addTrackConf({
                trackId,
                type: trackType,
                name: trackName,
                assemblyNames: [assembly],
                adapter: {
                    ...trackAdapter,
                    sequenceAdapter: (0,_jbrowse_core_configuration__WEBPACK_IMPORTED_MODULE_3__.getConf)(assemblyInstance, ['sequence', 'adapter']),
                },
            });
            if (model.view) {
                model.view.showTrack(trackId);
                if (_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2__.isElectron &&
                    textIndexTrack &&
                    (0,_jbrowse_core_util__WEBPACK_IMPORTED_MODULE_2__.supportedIndexingAdapters)(trackAdapter.type)) {
                    const attr = textIndexingConf || {
                        attributes: ['Name', 'ID'],
                        exclude: ['CDS', 'exon'],
                    };
                    const indexName = trackName + '-index';
                    const newEntry = {
                        indexingParams: {
                            ...attr,
                            assemblies: [assembly],
                            tracks: [trackId],
                            indexType: 'perTrack',
                            name: indexName,
                            timestamp: new Date().toISOString(),
                        },
                        name: indexName,
                        cancelCallback: () => jobsManager.abortJob(),
                    };
                    jobsManager.queueJob(newEntry);
                }
            }
            else {
                session.notify('Open a new view, or use the track selector in an existing view, to view this track', 'info');
            }
            model.clearData();
            session.hideWidget(model);
        }
        else {
            setTrackErrorMessage('Failed to add track.\nThe configuration of this file is not currently supported.');
        }
    }
    function handleBack() {
        setTrackErrorMessage(undefined);
        setActiveStep(activeStep - 1);
    }
    function isNextDisabled() {
        switch (activeStep) {
            case 0:
                return !trackData;
            case 1:
                return !(trackName && trackType && (trackAdapter === null || trackAdapter === void 0 ? void 0 : trackAdapter.type) && assembly);
            default:
                return true;
        }
    }
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.root },
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_8__["default"], { className: classes.stepper, activeStep: activeStep, orientation: "vertical" }, steps.map((label, idx) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_9__["default"], { key: label },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_10__["default"], null, label),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_11__["default"], null,
                getStepContent(idx),
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.actionsContainer },
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_12__["default"], { disabled: activeStep === 0, onClick: handleBack, className: classes.button }, "Back"),
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_12__["default"], { disabled: isNextDisabled(), variant: "contained", color: "primary", onClick: handleNext, className: classes.button, "data-testid": "addTrackNextButton" }, activeStep === steps.length - 1 ? 'Add' : 'Next')),
                trackErrorMessage ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.alertContainer },
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_13__["default"], { severity: "error" }, trackErrorMessage))) : null)))))));
}
/* harmony default export */ __webpack_exports__["default"] = ((0,mobx_react__WEBPACK_IMPORTED_MODULE_14__.observer)(AddTrackWorkflow));
//# sourceMappingURL=DefaultAddTrackWorkflow.js.map

/***/ }),

/***/ "./node_modules/@jbrowse/plugin-data-management/esm/AddTrackWidget/components/TrackSourceSelect.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@jbrowse/plugin-data-management/esm/AddTrackWidget/components/TrackSourceSelect.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _jbrowse_core_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jbrowse/core/ui */ "./node_modules/@jbrowse/core/ui/index.js");
/* harmony import */ var _jbrowse_core_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jbrowse_core_ui__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Paper/Paper.js");
/* harmony import */ var tss_react_mui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tss-react/mui */ "./node_modules/tss-react/mui.js");
/* harmony import */ var mobx_state_tree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mobx-state-tree */ "./node_modules/mobx-state-tree/dist/mobx-state-tree.module.js");
/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! mobx-react */ "./node_modules/mobx-react/dist/mobxreact.esm.js");






const useStyles = (0,tss_react_mui__WEBPACK_IMPORTED_MODULE_2__.makeStyles)()(theme => ({
    paper: {
        display: 'flex',
        flexDirection: 'column',
        padding: theme.spacing(1),
    },
    spacer: {
        height: theme.spacing(8),
    },
}));
function TrackSourceSelect({ model }) {
    const { classes } = useStyles();
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    const rootModel = (0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_3__.getRoot)(model);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_4__["default"], { className: classes.paper },
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_jbrowse_core_ui__WEBPACK_IMPORTED_MODULE_1__.FileSelector, { name: "Main file", description: "", location: model.trackData, setLocation: model.setTrackData, setName: model.setTrackName, rootModel: rootModel }),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: classes.spacer }),
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_jbrowse_core_ui__WEBPACK_IMPORTED_MODULE_1__.FileSelector, { name: "Index file", description: "(Optional) The URL of the index file is automatically inferred from the URL of the main file if it is not supplied.", location: model.indexTrackData, setLocation: model.setIndexTrackData, setName: model.setTrackName, rootModel: rootModel })));
}
/* harmony default export */ __webpack_exports__["default"] = ((0,mobx_react__WEBPACK_IMPORTED_MODULE_5__.observer)(TrackSourceSelect));
//# sourceMappingURL=TrackSourceSelect.js.map

/***/ }),

/***/ "./node_modules/@mui/icons-material/Add.js":
/*!*************************************************!*\
  !*** ./node_modules/@mui/icons-material/Add.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {



var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ "./node_modules/@mui/icons-material/node_modules/@babel/runtime/helpers/interopRequireDefault.js");

Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;

var _createSvgIcon = _interopRequireDefault(__webpack_require__(/*! ./utils/createSvgIcon */ "./node_modules/@mui/icons-material/utils/createSvgIcon.js"));

var _jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");

var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"
}), 'Add');

exports["default"] = _default;

/***/ })

}]);
//# sourceMappingURL=vendors-node_modules_jbrowse_plugin-data-management_esm_AddTrackWidget_components_AddTrackWidget_js.bundle.js.map