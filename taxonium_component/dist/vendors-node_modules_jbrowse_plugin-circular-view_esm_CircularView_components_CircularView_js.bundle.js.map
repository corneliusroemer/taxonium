{"version":3,"file":"vendors-node_modules_jbrowse_plugin-circular-view_esm_CircularView_components_CircularView_js.bundle.js","mappings":"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","sources":["webpack://taxonium/./node_modules/@jbrowse/plugin-circular-view/esm/CircularView/components/CircularView.js","webpack://taxonium/./node_modules/@jbrowse/plugin-circular-view/esm/CircularView/components/ImportForm.js","webpack://taxonium/./node_modules/@jbrowse/plugin-circular-view/esm/CircularView/components/Ruler.js","webpack://taxonium/./node_modules/@mui/icons-material/Lock.js","webpack://taxonium/./node_modules/@mui/icons-material/LockOpen.js","webpack://taxonium/./node_modules/@mui/icons-material/RotateLeft.js","webpack://taxonium/./node_modules/@mui/icons-material/RotateRight.js"],"sourcesContent":["import React from 'react';\nimport { observer } from 'mobx-react';\nimport { ResizeHandle, ErrorMessage } from '@jbrowse/core/ui';\nimport { assembleLocString } from '@jbrowse/core/util';\nimport { IconButton } from '@mui/material';\nimport { makeStyles } from 'tss-react/mui';\nimport { grey } from '@mui/material/colors';\n// icons\nimport ZoomOutIcon from '@mui/icons-material/ZoomOut';\nimport ZoomInIcon from '@mui/icons-material/ZoomIn';\nimport RotateLeftIcon from '@mui/icons-material/RotateLeft';\nimport RotateRightIcon from '@mui/icons-material/RotateRight';\nimport LockOpenIcon from '@mui/icons-material/LockOpen';\nimport LockIcon from '@mui/icons-material/Lock';\nimport { TrackSelector as TrackSelectorIcon } from '@jbrowse/core/ui/Icons';\n// locals\nimport Ruler from './Ruler';\nimport ImportForm from './ImportForm';\nconst dragHandleHeight = 3;\nconst useStyles = makeStyles()(theme => ({\n    root: {\n        position: 'relative',\n        marginBottom: theme.spacing(1),\n        overflow: 'hidden',\n        background: 'white',\n    },\n    scroller: {\n        overflow: 'auto',\n    },\n    sliceRoot: {\n        background: 'none',\n        // background: theme.palette.background.paper,\n        boxSizing: 'content-box',\n        display: 'block',\n    },\n    iconButton: {\n        padding: '4px',\n        margin: '0 2px 0 2px',\n    },\n    controls: {\n        overflow: 'hidden',\n        whiteSpace: 'nowrap',\n        position: 'absolute',\n        background: grey[200],\n        boxSizing: 'border-box',\n        borderRight: '1px solid #a2a2a2',\n        borderBottom: '1px solid #a2a2a2',\n        left: 0,\n        top: 0,\n    },\n    importFormContainer: {\n        marginBottom: theme.spacing(4),\n    },\n}));\nconst Slices = observer(({ model }) => {\n    return (React.createElement(React.Fragment, null,\n        model.staticSlices.map(slice => (React.createElement(Ruler, { key: assembleLocString(slice.region.elided ? slice.region.regions[0] : slice.region), model: model, slice: slice }))),\n        model.tracks.map(track => {\n            const display = track.displays[0];\n            return (React.createElement(display.RenderingComponent, { key: display.id, display: display, view: model }));\n        })));\n});\nconst Controls = observer(({ model, showingFigure }) => {\n    const { classes } = useStyles();\n    return (React.createElement(\"div\", { className: classes.controls },\n        React.createElement(IconButton, { onClick: model.zoomOutButton, className: classes.iconButton, title: model.lockedFitToWindow ? 'unlock to zoom out' : 'zoom out', disabled: !showingFigure || model.atMaxBpPerPx || model.lockedFitToWindow, color: \"secondary\" },\n            React.createElement(ZoomOutIcon, null)),\n        React.createElement(IconButton, { onClick: model.zoomInButton, className: classes.iconButton, title: \"zoom in\", disabled: !showingFigure || model.atMinBpPerPx, color: \"secondary\" },\n            React.createElement(ZoomInIcon, null)),\n        React.createElement(IconButton, { onClick: model.rotateCounterClockwiseButton, className: classes.iconButton, title: \"rotate counter-clockwise\", disabled: !showingFigure, color: \"secondary\" },\n            React.createElement(RotateLeftIcon, null)),\n        React.createElement(IconButton, { onClick: model.rotateClockwiseButton, className: classes.iconButton, title: \"rotate clockwise\", disabled: !showingFigure, color: \"secondary\" },\n            React.createElement(RotateRightIcon, null)),\n        React.createElement(IconButton, { onClick: model.toggleFitToWindowLock, className: classes.iconButton, title: model.lockedFitToWindow\n                ? 'locked model to window size'\n                : 'unlocked model to zoom further', disabled: model.tooSmallToLock, color: \"secondary\" }, model.lockedFitToWindow ? React.createElement(LockIcon, null) : React.createElement(LockOpenIcon, null)),\n        model.hideTrackSelectorButton ? null : (React.createElement(IconButton, { onClick: model.activateTrackSelector, title: \"Open track selector\", \"data-testid\": \"circular_track_select\", color: \"secondary\" },\n            React.createElement(TrackSelectorIcon, null)))));\n});\nconst CircularView = observer(({ model }) => {\n    const { classes } = useStyles();\n    const initialized = !!model.displayedRegions.length && model.figureWidth && model.figureHeight;\n    const showImportForm = !initialized && !model.disableImportForm;\n    const showFigure = initialized && !showImportForm;\n    return (React.createElement(\"div\", { className: classes.root, style: {\n            width: model.width,\n            height: model.height,\n        }, \"data-testid\": model.id }, model.error ? (React.createElement(ErrorMessage, { error: model.error })) : (React.createElement(React.Fragment, null,\n        showImportForm ? React.createElement(ImportForm, { model: model }) : null,\n        React.createElement(React.Fragment, null,\n            !showFigure ? null : (React.createElement(\"div\", { className: classes.scroller, style: {\n                    width: model.width,\n                    height: model.height,\n                } },\n                React.createElement(\"div\", { className: classes.rotator, style: {\n                        transform: [`rotate(${model.offsetRadians}rad)`].join(' '),\n                        transition: 'transform 0.5s',\n                        transformOrigin: model.centerXY\n                            .map(x => `${x}px`)\n                            .join(' '),\n                    } },\n                    React.createElement(\"svg\", { style: {\n                            position: 'absolute',\n                            left: 0,\n                            top: 0,\n                        }, className: classes.sliceRoot, width: `${model.figureWidth}px`, height: `${model.figureHeight}px`, version: \"1.1\" },\n                        React.createElement(\"g\", { transform: `translate(${model.centerXY})` },\n                            React.createElement(Slices, { model: model })))))),\n            React.createElement(Controls, { model: model, showingFigure: showFigure }),\n            model.hideVerticalResizeHandle ? null : (React.createElement(ResizeHandle, { onDrag: model.resizeHeight, style: {\n                    height: dragHandleHeight,\n                    position: 'absolute',\n                    bottom: 0,\n                    left: 0,\n                    background: '#ccc',\n                    boxSizing: 'border-box',\n                    borderTop: '1px solid #fafafa',\n                } })))))));\n});\nexport default CircularView;\n//# sourceMappingURL=CircularView.js.map","import React, { useState } from 'react';\nimport { Button, Container, Grid } from '@mui/material';\nimport { makeStyles } from 'tss-react/mui';\nimport { observer } from 'mobx-react';\nimport { getSession } from '@jbrowse/core/util';\nimport { ErrorMessage, AssemblySelector } from '@jbrowse/core/ui';\nconst useStyles = makeStyles()(theme => ({\n    importFormContainer: {\n        marginBottom: theme.spacing(4),\n    },\n}));\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst ImportForm = observer(({ model }) => {\n    const { classes } = useStyles();\n    const session = getSession(model);\n    const { error: modelError } = model;\n    const { assemblyNames, assemblyManager } = session;\n    const [selectedAsm, setSelectedAsm] = useState(assemblyNames[0]);\n    const [error, setError] = useState(modelError);\n    const assembly = assemblyManager.get(selectedAsm);\n    const assemblyError = assemblyNames.length\n        ? assembly === null || assembly === void 0 ? void 0 : assembly.error\n        : 'No configured assemblies';\n    const regions = (assembly === null || assembly === void 0 ? void 0 : assembly.regions) || [];\n    const err = assemblyError || error;\n    return (React.createElement(Container, { className: classes.importFormContainer },\n        err ? (React.createElement(Grid, { container: true, spacing: 1, justifyContent: \"center\", alignItems: \"center\" },\n            React.createElement(Grid, { item: true },\n                React.createElement(ErrorMessage, { error: err })))) : null,\n        React.createElement(Grid, { container: true, spacing: 1, justifyContent: \"center\", alignItems: \"center\" },\n            React.createElement(Grid, { item: true },\n                React.createElement(AssemblySelector, { onChange: val => {\n                        setError(undefined);\n                        setSelectedAsm(val);\n                    }, session: session, selected: selectedAsm })),\n            React.createElement(Grid, { item: true },\n                React.createElement(Button, { disabled: !(regions === null || regions === void 0 ? void 0 : regions.length), onClick: () => model.setDisplayedRegions(regions), variant: \"contained\", color: \"primary\" }, regions.length ? 'Open' : 'Loading…')))));\n});\nexport default ImportForm;\n//# sourceMappingURL=ImportForm.js.map","import React from 'react';\nimport { observer } from 'mobx-react';\nimport { getSession, polarToCartesian, radToDeg, assembleLocString, } from '@jbrowse/core/util';\nimport { makeContrasting } from '@jbrowse/core/util/color';\nimport { useTheme } from '@mui/material/styles';\nimport { makeStyles } from 'tss-react/mui';\nconst useStyles = makeStyles()({\n    rulerLabel: {\n        fontSize: '0.8rem',\n        fontWeight: 500,\n        lineHeight: 1.6,\n        letterSpacing: '0.0075em',\n    },\n});\nfunction sliceArcPath(slice, radiusPx, startBase, endBase) {\n    // A rx ry x-axis-rotation large-arc-flag sweep-flag x y\n    if (slice.flipped) {\n        ;\n        [startBase, endBase] = [endBase, startBase];\n    }\n    const startXY = slice.bpToXY(startBase, radiusPx);\n    const endXY = slice.bpToXY(endBase, radiusPx);\n    const largeArc = Math.abs(endBase - startBase) / slice.bpPerRadian > Math.PI ? '1' : '0';\n    const sweepFlag = '1';\n    return [\n        'M',\n        ...startXY,\n        'A',\n        radiusPx,\n        radiusPx,\n        '0',\n        largeArc,\n        sweepFlag,\n        ...endXY,\n    ].join(' ');\n}\nconst ElisionRulerArc = observer(({ model, slice }) => {\n    const theme = useTheme();\n    const { radiusPx: modelRadiusPx } = model;\n    const radiusPx = modelRadiusPx + 1;\n    const { endRadians, startRadians, region } = slice;\n    const startXY = polarToCartesian(radiusPx, startRadians);\n    const endXY = polarToCartesian(radiusPx, endRadians);\n    const widthPx = (endRadians - startRadians) * radiusPx;\n    const largeArc = endRadians - startRadians > Math.PI ? '1' : '0';\n    // TODO: draw the elision\n    const centerRadians = (endRadians + startRadians) / 2;\n    const regionCountString = `[${Number(region.regions.length).toLocaleString()}]`;\n    return (React.createElement(React.Fragment, null,\n        React.createElement(RulerLabel, { text: regionCountString, view: model, maxWidthPx: widthPx, radians: centerRadians, radiusPx: radiusPx, title: `${Number(region.regions.length).toLocaleString()} more regions`, color: theme.palette.text.primary }),\n        React.createElement(\"path\", { d: [\n                'M',\n                ...startXY,\n                'A',\n                radiusPx,\n                radiusPx,\n                '0',\n                largeArc,\n                '1',\n                ...endXY,\n            ].join(' '), stroke: theme.palette.text.secondary, strokeWidth: 2, strokeDasharray: \"2,2\", fill: \"none\" })));\n});\nconst RulerLabel = observer(({ view, text, maxWidthPx, radians, radiusPx, title, color }) => {\n    const { classes } = useStyles();\n    const textXY = polarToCartesian(radiusPx + 5, radians);\n    if (!text) {\n        return null;\n    }\n    if (text.length * 6.5 < maxWidthPx) {\n        // text is rotated parallel to the ruler arc\n        return (React.createElement(\"text\", { x: 0, y: 0, className: classes.rulerLabel, textAnchor: \"middle\", dominantBaseline: \"baseline\", transform: `translate(${textXY}) rotate(${radToDeg(radians) + 90})`, style: { fill: color } },\n            text,\n            React.createElement(\"title\", null, title || text)));\n    }\n    if (maxWidthPx > 4) {\n        // text is rotated perpendicular to the ruler arc\n        const overallRotation = radToDeg(radians + view.offsetRadians - Math.PI / 2);\n        if (overallRotation >= 180) {\n            return (React.createElement(\"text\", { x: 0, y: 0, className: classes.rulerLabel, textAnchor: \"start\", dominantBaseline: \"middle\", transform: `translate(${textXY}) rotate(${radToDeg(radians)})`, style: { fill: color } },\n                text,\n                React.createElement(\"title\", null, title || text)));\n        }\n        return (React.createElement(\"text\", { x: 0, y: 0, className: classes.rulerLabel, textAnchor: \"end\", dominantBaseline: \"middle\", transform: `translate(${textXY}) rotate(${radToDeg(radians) + 180})`, style: { fill: color } },\n            text,\n            React.createElement(\"title\", null, title || text)));\n    }\n    // if you get here there is no room for the text at all\n    return null;\n});\nconst RegionRulerArc = observer(({ model, slice }) => {\n    const theme = useTheme();\n    const { radiusPx } = model;\n    const { region, endRadians, startRadians } = slice;\n    const centerRadians = (endRadians + startRadians) / 2;\n    const widthPx = (endRadians - startRadians) * radiusPx;\n    const session = getSession(model);\n    let color;\n    const assembly = session.assemblyManager.get(slice.region.assemblyName);\n    if (assembly) {\n        color = assembly.getRefNameColor(region.refName);\n    }\n    if (color) {\n        try {\n            color = makeContrasting(color, theme.palette.background.paper);\n        }\n        catch (error) {\n            color = theme.palette.text.primary;\n        }\n    }\n    else {\n        color = theme.palette.text.primary;\n    }\n    // TODO: slice flipping\n    return (React.createElement(React.Fragment, null,\n        React.createElement(RulerLabel, { text: region.refName, view: model, maxWidthPx: widthPx, radians: centerRadians, radiusPx: radiusPx, color: color }),\n        React.createElement(\"path\", { d: sliceArcPath(slice, radiusPx + 1, region.start, region.end), stroke: color, strokeWidth: 2, fill: \"none\" },\n            React.createElement(\"title\", null, region.refName))));\n});\nconst CircularRuler = observer(function Ruler({ model, slice }) {\n    if (slice.region.elided) {\n        return (React.createElement(ElisionRulerArc, { key: assembleLocString(slice.region.regions[0]), model: model, slice: slice }));\n    }\n    return (React.createElement(RegionRulerArc, { key: assembleLocString(slice.region), model: model, slice: slice }));\n});\nexport default CircularRuler;\n//# sourceMappingURL=Ruler.js.map","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"\n}), 'Lock');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z\"\n}), 'LockOpen');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M7.11 8.53 5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z\"\n}), 'RotateLeft');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M15.55 5.55 11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10l4.55-4.45zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47h2.02zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03zm3.89-2.42 1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48z\"\n}), 'RotateRight');\n\nexports.default = _default;"],"names":[],"sourceRoot":""}