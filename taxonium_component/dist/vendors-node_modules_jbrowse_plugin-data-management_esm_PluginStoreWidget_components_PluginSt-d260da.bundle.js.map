{"version":3,"file":"vendors-node_modules_jbrowse_plugin-data-management_esm_PluginStoreWidget_components_PluginSt-d260da.bundle.js","mappings":"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","sources":["webpack://taxonium/./node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/CustomPluginForm.js","webpack://taxonium/./node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/InstalledPlugin.js","webpack://taxonium/./node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/InstalledPluginsList.js","webpack://taxonium/./node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/PluginCard.js","webpack://taxonium/./node_modules/@jbrowse/plugin-data-management/esm/PluginStoreWidget/components/PluginStoreWidget.js","webpack://taxonium/./node_modules/@mui/icons-material/Add.js","webpack://taxonium/./node_modules/@mui/icons-material/Check.js","webpack://taxonium/./node_modules/@mui/icons-material/Clear.js","webpack://taxonium/./node_modules/@mui/icons-material/InfoOutlined.js","webpack://taxonium/./node_modules/@mui/icons-material/Lock.js","webpack://taxonium/./node_modules/@mui/icons-material/Person.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { observer } from 'mobx-react';\nimport { getRoot } from 'mobx-state-tree';\nimport { Button, Collapse, Dialog, DialogActions, DialogTitle, DialogContent, DialogContentText, TextField, } from '@mui/material';\nimport { makeStyles } from 'tss-react/mui';\n// icons\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nconst useStyles = makeStyles()(theme => ({\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n    },\n    dialogContent: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    expand: {\n        transform: 'rotate(0deg)',\n        marginLeft: 'auto',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest,\n        }),\n    },\n    expandOpen: {\n        transform: 'rotate(180deg)',\n    },\n}));\nfunction CustomPluginForm({ open, onClose, model, }) {\n    const { classes, cx } = useStyles();\n    const [umdPluginName, setUMDPluginName] = useState('');\n    const [umdPluginUrl, setUMDPluginUrl] = useState('');\n    const [esmPluginUrl, setESMPluginUrl] = useState('');\n    const [cjsPluginUrl, setCJSPluginUrl] = useState('');\n    const [advancedOptionsOpen, setAdvancedOptionsOpen] = useState(false);\n    function handleChange(event) {\n        const { name, value } = event.target;\n        if (name === 'umdName') {\n            setUMDPluginName(value);\n        }\n        if (name === 'umdUrl') {\n            setUMDPluginUrl(value);\n        }\n        if (name === 'esmUrl') {\n            setESMPluginUrl(value);\n        }\n        if (name === 'cjsUrl') {\n            setCJSPluginUrl(value);\n        }\n    }\n    function handleOpenAdvancedOptions() {\n        setAdvancedOptionsOpen(!advancedOptionsOpen);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const { jbrowse } = getRoot(model);\n    const ready = Boolean((umdPluginName && umdPluginUrl) || esmPluginUrl || cjsPluginUrl);\n    function handleSubmit() {\n        if (!ready) {\n            return;\n        }\n        const pluginDefinition = {};\n        if (umdPluginName && umdPluginUrl) {\n            pluginDefinition.name = umdPluginName;\n            pluginDefinition.umdUrl = umdPluginUrl;\n        }\n        if (esmPluginUrl) {\n            pluginDefinition.esmUrl = esmPluginUrl;\n        }\n        if (cjsPluginUrl) {\n            pluginDefinition.cjsUrl = cjsPluginUrl;\n        }\n        jbrowse.addPlugin(pluginDefinition);\n    }\n    function handleClose() {\n        setUMDPluginName('');\n        setUMDPluginUrl('');\n        setESMPluginUrl('');\n        setCJSPluginUrl('');\n        onClose();\n    }\n    return (React.createElement(Dialog, { open: open, onClose: handleClose },\n        React.createElement(DialogTitle, null,\n            \"Add custom plugin\",\n            React.createElement(IconButton, { size: \"medium\", className: classes.closeButton, onClick: () => onClose() },\n                React.createElement(CloseIcon, null))),\n        React.createElement(\"form\", { onSubmit: handleSubmit },\n            React.createElement(DialogContent, { className: classes.dialogContent },\n                React.createElement(DialogContentText, null, \"Enter the name of the plugin and its URL. The name should match what is defined in the plugin's build.\"),\n                React.createElement(TextField, { id: \"umd-name-input\", name: \"umdName\", label: \"Plugin name\", variant: \"outlined\", value: umdPluginName, onChange: handleChange }),\n                React.createElement(TextField, { id: \"umd-url-input\", name: \"umdUrl\", label: \"Plugin URL\", variant: \"outlined\", value: umdPluginUrl, onChange: handleChange }),\n                React.createElement(DialogContentText, { onClick: handleOpenAdvancedOptions },\n                    React.createElement(IconButton, { className: cx(classes.expand, {\n                            [classes.expandOpen]: advancedOptionsOpen,\n                        }), \"aria-expanded\": advancedOptionsOpen, \"aria-label\": \"show more\" },\n                        React.createElement(ExpandMoreIcon, null)),\n                    \"Advanced options\"),\n                React.createElement(Collapse, { in: advancedOptionsOpen },\n                    React.createElement(\"div\", { className: classes.dialogContent },\n                        React.createElement(DialogContentText, null, \"The above fields assume that the plugin is built in UMD format. If your plugin is in another format, or you have additional builds you want to add (such as a CJS build for using NodeJS APIs in desktop), you can enter the URLs for those builds below.\"),\n                        React.createElement(TextField, { id: \"esm-url-input\", name: \"esmUrl\", label: \"ESM build URL\", variant: \"outlined\", value: esmPluginUrl, onChange: handleChange }),\n                        React.createElement(TextField, { id: \"cjs-url-input\", name: \"cjsUrl\", label: \"CJS build URL\", variant: \"outlined\", value: cjsPluginUrl, onChange: handleChange })))),\n            React.createElement(DialogActions, null,\n                React.createElement(Button, { variant: \"contained\", onClick: handleClose }, \"Cancel\"),\n                React.createElement(Button, { variant: \"contained\", color: \"primary\", onClick: handleSubmit, disabled: !ready }, \"Submit\")))));\n}\nexport default observer(CustomPluginForm);\n//# sourceMappingURL=CustomPluginForm.js.map","import React, { useState } from 'react';\nimport { observer } from 'mobx-react';\nimport { getParent } from 'mobx-state-tree';\nimport { Button, Dialog, DialogTitle, DialogActions, DialogContent, IconButton, ListItem, Tooltip, Typography, } from '@mui/material';\nimport { makeStyles } from 'tss-react/mui';\nimport CloseIcon from '@mui/icons-material/Close';\nimport LockIcon from '@mui/icons-material/Lock';\nimport { getSession } from '@jbrowse/core/util';\nimport { isSessionWithSessionPlugins, } from '@jbrowse/core/util/types';\nconst useStyles = makeStyles()(() => ({\n    closeDialog: {\n        position: 'absolute',\n        right: 0,\n        top: 0,\n    },\n    dialogContainer: {\n        margin: 15,\n    },\n    lockedPluginTooltip: {\n        marginRight: '0.5rem',\n    },\n}));\nfunction LockedPlugin() {\n    const { classes } = useStyles();\n    return (React.createElement(Tooltip, { className: classes.lockedPluginTooltip, title: \"This plugin was installed by an administrator, you cannot remove it.\" },\n        React.createElement(LockIcon, null)));\n}\nfunction PluginDialog({ onClose, plugin, }) {\n    const { classes } = useStyles();\n    return (React.createElement(Dialog, { open: true, onClose: () => onClose() },\n        React.createElement(DialogTitle, null,\n            React.createElement(IconButton, { className: classes.closeDialog, \"aria-label\": \"close-dialog\", onClick: () => onClose() },\n                React.createElement(CloseIcon, null))),\n        React.createElement(DialogContent, null,\n            React.createElement(Typography, null,\n                \"Please confirm that you want to remove \",\n                plugin,\n                \". Note: if any resources in this session still use this plugin, it may cause your session to crash\"),\n            React.createElement(DialogActions, null,\n                React.createElement(Button, { variant: \"contained\", color: \"primary\", onClick: () => {\n                        // avoid showing runtime plugin warning\n                        window.setTimeout(() => {\n                            onClose(plugin);\n                        }, 500);\n                    } }, \"Confirm\"),\n                React.createElement(Button, { variant: \"contained\", color: \"secondary\", onClick: () => {\n                        onClose();\n                    } }, \"Cancel\")))));\n}\nfunction InstalledPlugin({ plugin, model, pluginManager, }) {\n    const [dialogPlugin, setDialogPlugin] = useState();\n    const session = getSession(model);\n    const { sessionPlugins } = session;\n    const isSessionPlugin = sessionPlugins === null || sessionPlugins === void 0 ? void 0 : sessionPlugins.some(p => pluginManager.pluginMetadata[plugin.name].url === p.url);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const rootModel = getParent(model, 3);\n    const { jbrowse, adminMode } = rootModel;\n    return (React.createElement(React.Fragment, null,\n        dialogPlugin ? (React.createElement(PluginDialog, { plugin: dialogPlugin, onClose: name => {\n                if (name) {\n                    const pluginMetadata = pluginManager.pluginMetadata[plugin.name];\n                    if (adminMode) {\n                        jbrowse.removePlugin(pluginMetadata);\n                    }\n                    else if (isSessionWithSessionPlugins(session)) {\n                        session.removeSessionPlugin(pluginMetadata);\n                    }\n                }\n                setDialogPlugin(undefined);\n            } })) : null,\n        React.createElement(ListItem, { key: plugin.name },\n            adminMode || isSessionPlugin ? (React.createElement(IconButton, { \"aria-label\": \"removePlugin\", \"data-testid\": `removePlugin-${plugin.name}`, onClick: () => setDialogPlugin(plugin.name) },\n                React.createElement(CloseIcon, null))) : (React.createElement(LockedPlugin, null)),\n            React.createElement(Typography, null, plugin.name))));\n}\nexport default observer(InstalledPlugin);\n//# sourceMappingURL=InstalledPlugin.js.map","import React from 'react';\nimport { observer } from 'mobx-react';\nimport { List, Typography } from '@mui/material';\nimport InstalledPlugin from './InstalledPlugin';\nfunction InstalledPluginsList({ pluginManager, model, }) {\n    const { plugins } = pluginManager;\n    const corePlugins = plugins\n        .filter(p => { var _a; return (_a = pluginManager.pluginMetadata[p.name]) === null || _a === void 0 ? void 0 : _a.isCore; })\n        .map(p => p.name);\n    const externalPlugins = plugins.filter(plugin => !corePlugins.includes(plugin.name));\n    return (React.createElement(List, null, externalPlugins.length ? (externalPlugins\n        .filter(plugin => plugin.name.toLowerCase().includes(model.filterText.toLowerCase()))\n        .map(plugin => (React.createElement(InstalledPlugin, { key: plugin.name, plugin: plugin, model: model, pluginManager: pluginManager })))) : (React.createElement(Typography, null, \"No plugins currently installed\"))));\n}\nexport default observer(InstalledPluginsList);\n//# sourceMappingURL=InstalledPluginsList.js.map","import React, { useState } from 'react';\nimport { observer } from 'mobx-react';\nimport { getEnv, getParent } from 'mobx-state-tree';\nimport { getSession } from '@jbrowse/core/util';\nimport { isSessionWithSessionPlugins, } from '@jbrowse/core/util/types';\nimport { Card, CardActions, CardContent, Button, Link, Typography, } from '@mui/material';\nimport { makeStyles } from 'tss-react/mui';\n// icons\nimport PersonIcon from '@mui/icons-material/Person';\nimport AddIcon from '@mui/icons-material/Add';\nimport CheckIcon from '@mui/icons-material/Check';\nconst useStyles = makeStyles()(() => ({\n    card: {\n        margin: '1em',\n    },\n    icon: {\n        marginLeft: '0.5em',\n        marginRight: '0.5em',\n    },\n    bold: {\n        fontWeight: 600,\n    },\n    dataField: {\n        display: 'flex',\n        alignItems: 'center',\n        margin: '0.4em 0em',\n    },\n}));\nfunction PluginCard({ plugin, model, adminMode, }) {\n    const { classes } = useStyles();\n    const session = getSession(model);\n    const { pluginManager } = getEnv(model);\n    const isInstalled = Boolean(pluginManager.runtimePluginDefinitions.find(def => def.url === plugin.url));\n    const [tempDisabled, setTempDisabled] = useState(false);\n    const disableButton = isInstalled || tempDisabled;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const rootModel = getParent(model, 3);\n    const { jbrowse } = rootModel;\n    return (React.createElement(Card, { variant: \"outlined\", key: plugin.name, className: classes.card },\n        React.createElement(CardContent, null,\n            React.createElement(\"div\", { className: classes.dataField },\n                React.createElement(Typography, { variant: \"h5\" },\n                    React.createElement(Link, { href: `${plugin.location}#readme`, target: \"_blank\", rel: \"noopener\" }, plugin.name))),\n            React.createElement(\"div\", { className: classes.dataField },\n                React.createElement(PersonIcon, { style: { marginRight: '0.5em' } }),\n                React.createElement(Typography, null, plugin.authors.join(', '))),\n            React.createElement(Typography, { className: classes.bold }, \"Description:\"),\n            React.createElement(Typography, null, plugin.description)),\n        React.createElement(CardActions, null,\n            React.createElement(Button, { variant: \"contained\", color: \"primary\", disabled: disableButton, startIcon: isInstalled ? React.createElement(CheckIcon, null) : React.createElement(AddIcon, null), onClick: () => {\n                    if (adminMode) {\n                        jbrowse.addPlugin({ name: plugin.name, url: plugin.url });\n                    }\n                    else if (isSessionWithSessionPlugins(session)) {\n                        session.addSessionPlugin(plugin);\n                    }\n                    setTempDisabled(true);\n                } }, isInstalled ? 'Installed' : 'Install'))));\n}\nexport default observer(PluginCard);\n//# sourceMappingURL=PluginCard.js.map","import React, { useState, useEffect } from 'react';\nimport { observer } from 'mobx-react';\nimport { getEnv } from 'mobx-state-tree';\nimport { Accordion, AccordionSummary, Button, IconButton, InputAdornment, TextField, Typography, } from '@mui/material';\nimport { makeStyles } from 'tss-react/mui';\nimport { getSession, isElectron } from '@jbrowse/core/util';\n// icons\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\n// locals\nimport InstalledPluginsList from './InstalledPluginsList';\nimport PluginCard from './PluginCard';\nimport CustomPluginForm from './CustomPluginForm';\nconst useStyles = makeStyles()(theme => ({\n    root: {\n        margin: theme.spacing(1),\n    },\n    expandIcon: {\n        color: '#fff',\n    },\n    adminBadge: {\n        margin: '0.5em',\n        borderRadius: 3,\n        // this is the quaternary color in JB2 palette\n        backgroundColor: '#FFB11D',\n        padding: '1em',\n        display: 'flex',\n        alignContent: 'center',\n    },\n    customPluginButton: {\n        margin: '0.5em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n}));\nfunction PluginStoreWidget({ model }) {\n    const { classes } = useStyles();\n    const [pluginArray, setPluginArray] = useState();\n    const [error, setError] = useState();\n    const [customPluginFormOpen, setCustomPluginFormOpen] = useState(false);\n    const { adminMode } = getSession(model);\n    const { pluginManager } = getEnv(model);\n    useEffect(() => {\n        const controller = new AbortController();\n        const { signal } = controller;\n        (async () => {\n            try {\n                const response = await fetch('https://jbrowse.org/plugin-store/plugins.json', { signal });\n                if (!response.ok) {\n                    const err = await response.text();\n                    throw new Error(`Failed to fetch plugin data: ${response.status} ${response.statusText} ${err}`);\n                }\n                const array = await response.json();\n                if (!signal.aborted) {\n                    setPluginArray(array.plugins);\n                }\n            }\n            catch (e) {\n                console.error(e);\n                setError(e);\n            }\n        })();\n        return () => {\n            controller.abort();\n        };\n    }, []);\n    return (React.createElement(\"div\", { className: classes.root },\n        adminMode && (React.createElement(React.Fragment, null,\n            !isElectron && (React.createElement(\"div\", { className: classes.adminBadge },\n                React.createElement(InfoOutlinedIcon, { style: { marginRight: '0.3em' } }),\n                React.createElement(Typography, null,\n                    \"You are using the \",\n                    React.createElement(\"code\", null, \"admin-server\"),\n                    \". Any changes you make will be saved to your configuration file. You also have the ability to add custom plugins that are not in the store.\"))),\n            React.createElement(\"div\", { className: classes.customPluginButton },\n                React.createElement(Button, { variant: \"contained\", color: \"primary\", onClick: () => setCustomPluginFormOpen(true) }, \"Add custom plugin\")),\n            React.createElement(CustomPluginForm, { open: customPluginFormOpen, onClose: () => setCustomPluginFormOpen(false), model: model }))),\n        React.createElement(TextField, { label: \"Filter plugins\", value: model.filterText, onChange: event => model.setFilterText(event.target.value), fullWidth: true, InputProps: {\n                endAdornment: (React.createElement(InputAdornment, { position: \"end\" },\n                    React.createElement(IconButton, { color: \"secondary\", onClick: () => model.clearFilterText() },\n                        React.createElement(ClearIcon, null)))),\n            } }),\n        React.createElement(Accordion, { defaultExpanded: true },\n            React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, { className: classes.expandIcon }) },\n                React.createElement(Typography, { variant: \"h5\" }, \"Installed plugins\")),\n            React.createElement(\"div\", { style: { margin: '1em' } },\n                React.createElement(InstalledPluginsList, { pluginManager: pluginManager, model: model }))),\n        React.createElement(Accordion, { defaultExpanded: true },\n            React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, { className: classes.expandIcon }) },\n                React.createElement(Typography, { variant: \"h5\" }, \"Available plugins\")),\n            error ? (React.createElement(Typography, { color: \"error\" }, `${error}`)) : pluginArray ? (pluginArray\n                .filter(plugin => {\n                // If pugin only has cjsUrl, don't display outside desktop\n                if (!isElectron &&\n                    !(plugin.esmUrl || plugin.url || plugin.umdUrl)) {\n                    return false;\n                }\n                return plugin.name\n                    .toLowerCase()\n                    .includes(model.filterText.toLowerCase());\n            })\n                .map(plugin => (React.createElement(PluginCard, { key: plugin.name, plugin: plugin, model: model, adminMode: !!adminMode })))) : (React.createElement(Typography, null, \"Loading...\")))));\n}\nexport default observer(PluginStoreWidget);\n//# sourceMappingURL=PluginStoreWidget.js.map","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"\n}), 'Check');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Clear');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}), 'InfoOutlined');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"\n}), 'Lock');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n}), 'Person');\n\nexports.default = _default;"],"names":[],"sourceRoot":""}